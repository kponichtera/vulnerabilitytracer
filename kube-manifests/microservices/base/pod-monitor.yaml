apiVersion: monitoring.coreos.com/v1
kind: PodMonitor
metadata:
  name: microservices
spec:
  namespaceSelector:
    matchNames:
      - microservices
  jobLabel: "app"
  selector:
    matchExpressions:
      - key: "app"
        operator: "In"
        values:
          - "microservice-alpha"
          - "microservice-beta"
          - "microservice-gamma"
          - "microservice-epsilon1"
          - "microservice-epsilon2"
  podMetricsEndpoints:
    - port: metrics
      path: "/actuator/prometheus"

