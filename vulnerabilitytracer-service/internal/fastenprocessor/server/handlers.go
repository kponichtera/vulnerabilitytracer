package server

import (
	"context"
	"vulnerabilitytracer/api/generated/api"
	"vulnerabilitytracer/api/generated/processorapi"
	"vulnerabilitytracer/internal/runtime"
)

type serverInterfaceImpl struct {
	runtime.Context
}

func (s serverInterfaceImpl) GetLiveness(ctx context.Context, request processorapi.GetLivenessRequestObject) (processorapi.GetLivenessResponseObject, error) {
	err := s.DBPool.Ping(ctx)
	if err != nil {
		return nil, err
	}

	return api.GetLiveness200Response{}, nil
}

func (s serverInterfaceImpl) GetReadiness(ctx context.Context, request processorapi.GetReadinessRequestObject) (processorapi.GetReadinessResponseObject, error) {
	return api.GetReadiness200Response{}, nil
}
