package traceprocessor

import (
	"time"

	"vulnerabilitytracer/pkg/tempo"

	"vulnerabilitytracer/pkg/config/logging"
	"vulnerabilitytracer/pkg/db"
)

type Config struct {
	Log      logging.Config `yaml:"log"`
	Database db.Config      `yaml:"database"`
	Tempo    tempo.Config   `yaml:"tempo"`

	// TraceBatchSize is the amount of traces, fetched to have their events scraped
	// in the context of a single batch
	TraceBatchSize uint `yaml:"traceBatchSize" env:"TRACE_BATCH_SIZE" env-default:"10"`

	// TraceMaxAge is the maximum duration of a trace that the scraper will consider.
	// After that time passes, the traces will be ignored and not scraped anymore.
	TraceMaxAge time.Duration `yaml:"traceMaxAge" env:"TRACE_MAX_AGE" env-default:"24h"`
}
