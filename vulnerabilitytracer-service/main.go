package main

import (
	"flag"

	"vulnerabilitytracer-service/pkg/api"

	"github.com/sirupsen/logrus"
)

var (
	port       = flag.Int("port", 10420, "HTTP server port")
	prefork    = flag.Bool("prefork", false, "Spawn multiple listener processes")
	configFile = flag.String("config-file", "config.yaml", "Path to YAML configuration file")
	helpConfig = flag.Bool("help-config", false, "Display configuration")
)

func main() {
	flag.Parse()

	if err := api.RunHTTPServer(port, prefork); err != nil {
		logrus.Fatalf("Failed to start HTTP server: %v", err)
	}
}
