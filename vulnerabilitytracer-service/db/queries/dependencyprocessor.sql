-- name: CountUnprocessedFastenDependencies :one
SELECT COUNT(id)
FROM java.dependencies
WHERE fasten_processed IS FALSE;

-- name: GetUnprocessedFastenDependencies :many
SELECT id, group_id, artifact_id, version
FROM java.dependencies
WHERE fasten_processed IS FALSE;

-- name: SetFastenDependenciesAsProcessed :exec
UPDATE java.dependencies
SET fasten_processed = TRUE
WHERE id = ANY($1::BIGINT[]);