FROM debian:11
LABEL devcontainer.metadata='[{ \
  "remoteUser": "devcontainer", \
}]'

RUN apt update && apt install -y \
    curl \
    && rm -rf /var/lib/apt/lists/*

COPY install/install_go.sh /tmp/install_go.sh
RUN /tmp/install_go.sh

ENV GOPATH=/home/devcontainer/go
ENV PATH=$PATH:/usr/local/go/bin:/home/devcontainer/go/bin

# For devcontainers
RUN useradd -m -s /bin/bash devcontainer

USER devcontainer