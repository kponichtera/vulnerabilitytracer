traces:
  zipkin:
    enabled: true
  otlp:
    http:
      enabled: true
    grpc:
      enabled: true

compactor:
  replicas: 3
  extraEnv:
    - name: "GOGC"
      value: "50"

distributor:
  affinity: ""

ingester:
  extraEnv:
    - name: "GOGC"
      value: "50"

querier:
  replicas: 3
#  resources:
#    limits:
#      memory: 4Gi
#    requests:
#      memory: 4Gi
  affinity: ""
  extraEnv:
    - name: "GOGC"
      value: "25"
  config:
    max_concurrent_queries: 20

queryFrontend:
  config:
    search:
      concurrent_jobs: 20

# Required to enable service graphs in Grafana
#metricsGenerator:
#  enabled: true
#  config:
#    processor:
#      service_graphs:
#        workers: 10
#    storage:
#      remote_write:
#        - url: http://mimir-nginx.lgtm.svc.cluster.local/api/v1/push

storage:
  trace:
    backend: s3
    s3:
      bucket: tempo
      endpoint: minio.minio:9000
      access_key: tempo
      secret_key: a1b2c3d4e5f6
      insecure: true

metaMonitoring:
  serviceMonitor:
    enabled: true