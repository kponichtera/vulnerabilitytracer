package nl.tudelft.kponichtera.thesis.microservice.controller;

import lombok.RequiredArgsConstructor;
import lombok.extern.slf4j.Slf4j;
import nl.tudelft.kponichtera.thesis.microservice.service.DownstreamCallService;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RestController;

@Slf4j
@RestController
@RequiredArgsConstructor
public class ApiController {

    private final DownstreamCallService downstreamCallService;

    @GetMapping("/one")
    public void one() {
        log.info("Making 1 downstream call");
        downstreamCallService.callFirstService();
    }

    @GetMapping("/two")
    public void two() {
        log.info("Making 2 downstream calls");
        downstreamCallService.callFirstService();
        downstreamCallService.callSecondService();
    }

    @GetMapping("/terminus")
    public void terminus() {
        log.info("Terminus endpoint executed");
    }
}
